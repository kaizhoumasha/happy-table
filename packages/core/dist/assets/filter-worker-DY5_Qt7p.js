(function(){function e(e){return String(e??``).toLowerCase()}function t(e){if(typeof e==`number`&&Number.isFinite(e))return e;if(typeof e==`string`&&e.trim()!==``){let t=Number(e);return Number.isFinite(t)?t:null}return null}function n(e){if(e instanceof Date)return e.getTime();if(typeof e==`number`&&Number.isFinite(e))return e;if(typeof e==`string`&&e.trim()!==``){let t=Date.parse(e);return Number.isFinite(t)?t:null}return null}function r(e){if(typeof e!=`string`)return null;let t=e.trim().match(/^(\d{1,2}):(\d{2})(?::(\d{2})(?:\.(\d{1,3}))?)?(?:\s*(AM|PM))?$/i);if(!t)return null;let n=parseInt(t[1],10),r=parseInt(t[2],10),i=t[3]?parseInt(t[3],10):0;if(r>=60||i>=60)return null;let a=t[5];if(a){let e=a.toUpperCase();e===`PM`&&n<12&&(n+=12),e===`AM`&&n===12&&(n=0)}return n>=24?null:n*3600+r*60+i}function i(e){if(typeof e==`number`&&Number.isFinite(e))return e;if(typeof e!=`string`)return null;let t=e.trim();if(!t)return null;let n=t.match(/^P(?=\d|T)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(\d+H)?(\d+M)?(\d+S)?)?$/i);if(n){let e=0,t=n[1]?parseInt(n[1],10):0,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[4]?parseInt(n[4],10):0,o=n[6]?parseInt(n[6],10):0,s=n[7]?parseInt(n[7],10):0,c=n[8]?parseInt(n[8],10):0;return e+=t*365*24*3600*1e3,e+=r*30*24*3600*1e3,e+=i*7*24*3600*1e3,e+=a*24*3600*1e3,e+=o*3600*1e3,e+=s*60*1e3,e+=c*1e3,e}if(/(\d+\s+(years?|months?|weeks?|days?|hours?|hrs?|minutes?|mins?|seconds?|secs?))/i.test(t)){let e=t.toLowerCase().split(/\s+/),n=0;for(let t=0;t<e.length;t++){let r=e[t];if(!r)continue;let i=parseFloat(r);if(!Number.isFinite(i))continue;let a=e[t+1];if(!a)continue;let o=a.toLowerCase();/^years?/.test(o)?n+=i*365*24*3600*1e3:/^months?/.test(o)?n+=i*30*24*3600*1e3:/^weeks?/.test(o)?n+=i*7*24*3600*1e3:/^days?/.test(o)?n+=i*24*3600*1e3:/^(hours?|hrs?)$/.test(o)?n+=i*3600*1e3:/^(minutes?|mins?)$/.test(o)?n+=i*60*1e3:/^(seconds?|secs?)$/.test(o)&&(n+=i*1e3),t+=1}return n||null}let r=t.match(/^(\d{1,3}):(\d{2})(?::(\d{2}))?$/);if(r){let e=parseInt(r[1],10),t=parseInt(r[2],10),n=r[3]?parseInt(r[3],10):0;if(t>=60||n>=60)return null;if(e>=24)return(e*3600+t*60+n)*1e3}return null}function a(e){let a=i(e),o=r(e),s=n(e),c=t(e);return{equals(l){let u=i(l);if(a!==null&&u!==null)return u===a;let d=r(l);if(o!==null&&d!==null)return d===o;let f=n(l);if(s!==null&&f!==null)return f===s;let p=t(l);return c!==null&&p!==null?p===c:l===e},notEquals(l){let u=i(l);if(a!==null&&u!==null)return u!==a;let d=r(l);if(o!==null&&d!==null)return d!==o;let f=n(l);if(s!==null&&f!==null)return f!==s;let p=t(l);return c!==null&&p!==null?p!==c:l!==e}}}function o(o){let{field:s,operator:c}=o,l=o.value;switch(c){case`equals`:{let e=a(l);return t=>e.equals(t[s])}case`notEquals`:{let e=a(l);return t=>e.notEquals(t[s])}case`contains`:{let t=e(l);return n=>e(n[s]).includes(t)}case`startsWith`:{let t=e(l);return n=>e(n[s]).startsWith(t)}case`endsWith`:{let t=e(l);return n=>e(n[s]).endsWith(t)}case`isEmpty`:return e=>e[s]===null||e[s]===void 0||String(e[s])===``;case`notEmpty`:return e=>!(e[s]===null||e[s]===void 0||String(e[s])===``);case`gt`:{let e=t(l);return n=>{let r=t(n[s]);return e!==null&&r!==null&&r>e}}case`lt`:{let e=t(l);return n=>{let r=t(n[s]);return e!==null&&r!==null&&r<e}}case`gte`:{let e=t(l),a=i(l),o=n(l),c=r(l);return l=>{let u=l[s],d=t(u);if(e!==null&&d!==null)return d>=e;let f=i(u);if(a!==null&&f!==null)return f>=a;let p=n(u);if(o!==null&&p!==null)return p>=o;let m=r(u);return c!==null&&m!==null&&m>=c}}case`lte`:{let e=t(l),a=i(l),o=n(l),c=r(l);return l=>{let u=l[s],d=t(u);if(e!==null&&d!==null)return d<=e;let f=i(u);if(a!==null&&f!==null)return f<=a;let p=n(u);if(o!==null&&p!==null)return p<=o;let m=r(u);return c!==null&&m!==null&&m<=c}}case`between`:{let[e,a]=(Array.isArray(l)?l:[])||[],o=t(e),c=t(a),u=i(e),d=i(a),f=n(e),p=n(a),m=r(e),h=r(a);return e=>{let a=e[s],l=t(a);if(l!==null&&o!==null&&c!==null)return l>=Math.min(o,c)&&l<=Math.max(o,c);let g=i(a);if(g!==null&&u!==null&&d!==null)return g>=Math.min(u,d)&&g<=Math.max(u,d);let _=n(a);if(_!==null&&f!==null&&p!==null)return _>=Math.min(f,p)&&_<=Math.max(f,p);let v=r(a);return v!==null&&m!==null&&h!==null&&v>=Math.min(m,h)&&v<=Math.max(m,h)}}case`in`:case`oneOf`:{let e=Array.isArray(l)?l:[l];return t=>e.some(e=>e===t[s])}case`notIn`:{let e=Array.isArray(l)?l:[l];return t=>!e.some(e=>e===t[s])}default:return()=>!0}}self.onmessage=e=>{let{id:t,data:n,filters:r}=e.data;try{let e=Date.now(),i=r.map(o),a=[],s=n.length;for(let e=0;e<n.length;e++){let r=n[e],o=!0;for(let e of i)if(!e(r)){o=!1;break}if(o&&a.push(r),e%1e4==0){let n={id:t,processed:e,total:s,type:`progress`};self.postMessage(n)}}let c=Date.now()-e,l={id:t,data:a,duration:c,type:`result`};self.postMessage(l)}catch(e){let n={id:t,message:e?.message||`filter error`,type:`error`};self.postMessage(n)}}})();
//# sourceMappingURL=filter-worker-DY5_Qt7p.js.map